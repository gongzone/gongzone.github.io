---
title: 'sdsd'
description: '단진자(Simple Pendulum) 운동을 발생시키는 힘의 요소에 대해 알아보고, 어떻게 구현할 것인지 생각해봅니다.'
slug: 'simple-pecsc'
image: './assets/pendulum.png'
embeddedImages: ['./assets/entire-structure.png', './assets/trig.png', './assets/forces.png']
category: '자바스크립트'
tags: ['Canvas, JavaScript']
date: '2022-01-11'
lastmod: '2022-01-15'
---

import { GatsbyImage, getImage } from 'gatsby-plugin-image';

<div>
  그네를 타거나, 놀이공원에서 바이킹을 탈 때, 그 움직임에 대해 깊게 생각해 본 적이 있으신가요? 그저
  사는대로 살았던 저로서는 이 포스트를 작성하기 전까지, 깊게 생각하고 고민했던 적은 없었던 것
  같습니다. 따라서 이번 기회에 자연계에서 일어나는 이러한 아름다운 현상을 코드 속으로 옮겨 보는
  시간을 가져 보겠습니다.
</div>

### 1. 단진자란?

**단진자(Simple Pendulum)**란 간단하게 말해서, 줄 끝에 추를 매달고 반대 편을 축 또는 점에 고정 시킨 구조를 말합니다.
이러한 구조에 처음 힘을 가하게 되면 앞,뒤로 왔다 갔다 하는 **진동 운동(Oscillatory Motion)** 양상을 보이게 됩니다.

다만, **"단(Simple)"** 이라는 단어가 암시하듯, 가장 간단한(이상적인) 진자의 구조를 이루고 있습니다. 다음과 같은 몇 가지 가정에 의해서 말이죠.

<div>
  - 줄의 질량은 무시할 수 있을 정도로 작다. <br />
  - 추는 부피가 없는 하나의 질점으로 취급한다. <br />
  - 저항이나 마찰력은 존재하지 않는다. <br />
  - 운동은 2차원에서만 일어난다. <br />
  - 균일한 중력장 속에서의 운동이다. <br />
  - 축은 움직이지 않는다. <br />
</div>

### 2. 프로그래밍, 어떻게 접근해야 할까?

우리가 만들고자 하는 것은 진자의 움직임을 그래픽으로 표현하는 것입니다. 어떤 프로그램을 만들든간에 먼저 어떤 식으로 접근해야 할지 고민하는
시간이 필요합니다.

<div style={{ display: 'flex', justifyContent: 'center' }}>
  <GatsbyImage
    image={getImage(props.embeddedImages[0])}
    alt="pendulum-img1"
    style={{ maxWidth: '40rem', marginBottom: '2rem' }}
  />
</div>

위 그림은 단진자가 운동하는 모습을 간략히 나타낸 것입니다. 또한, 줄의 길이, 각, 중력의 작용 등 기초적인 정보를
표시하고 있습니다. 특히 중력의 작용으로 인해 발생하는 **힘(Force)**은 우리가 나중에 눈 여겨봐야할 부분입니다만, 일단 거시적인 시각으로 우리가
무엇에 초점을 맞추어야 할 지 생각해봅시다. **즉, 우리가 결국 산출하고자 하는 데이터가 무엇인지 고민해보는 것입니다.**

픽셀이 기본 단위가 되는 2차원 좌표평면, Canvas안에서 우리가 구하고자 하는 것은 결국 추의 중심점의 위치입니다.
시간이 지남에 따라 추의 중심점이 어디에 위치하고 있는지가 우리가 알고자 하는 것입니다. **즉, 추의 중심점에 대한 벡터값이라고 할 수 있겠습니다.**

그렇다면 어떻게 구할 수 있을까요? 가만히 보니 Pivot(축)으로부터 추의 중심점을 이으면 삼각형의 빗변을 형성하는 것을 볼 수 있습니다.

<div style={{ display: 'flex', justifyContent: 'center' }}>
  <GatsbyImage
    image={getImage(props.embeddedImages[1])}
    alt="trig"
    style={{ maxWidth: '40rem', marginBottom: '2rem' }}
  />
</div>

이제 삼각법의 사인함수와 코사인함수를 이용하여 x,y 좌표의 값을 구해봅시다. <br />
`sin(θ) = x / Length` 이고 `cos(θ) = y / Length` 이기 때문에..

<div>
  x = Length * sin(θ) <br />
  y = Length * cos(θ) <br />
</div>

다만 한 가지 간과한 것이 있습니다. 바로 추의 중심점에 대한 벡터는 Pivot을 원점으로 삼아 출발하였기에 이 점을 고려할 필요가 있습니다.

<div>
  x = Length * sin(θ) + Pivot의 x좌표 <br />
  y = Length * cos(θ) + Pivot의 y좌표 <br />
</div>

자연계에 시간이 존재하듯, 애니메이션의 세계에도 시간이라는 개념이 존재합니다. 바로 프레임으로서 말이죠. 우리는 위 식을 통해 x,y 좌표를 알 수
있지만 시간이 지나가며 변하는 한 가지 변수가 함수 식에 포함되어 있음을 알 수 있습니다. **바로 θ, 즉, 각(Angle)이죠.** 지금까지의
여정은 우리가 궁극적으로 무엇을 산출해야하는지에 대한 논의였습니다. 그리고 그 답은 프레임마다 변하는 각을 구하는 것으로 결국 귀결되네요.
이 각을 구하기 위해 앞서, 무엇이 진자를 움직이게 만드는지, **즉, 무엇이 각을 변화하게 하는지**, 그 힘에 대해 좀 더 깊게 파고들 필요가 있습니다.

### 3. 진자를 움직이는 힘, 중력

<div style={{ display: 'flex', justifyContent: 'center' }}>
  <GatsbyImage
    image={getImage(props.embeddedImages[2])}
    alt="forces"
    style={{ maxWidth: '40rem', marginBottom: '2rem' }}
  />
</div>

초기에 진자에 작용하는 힘은 중력 밖에 존재하지 않습니다. 이 중력이 진자를 움직이게 하는 원동력인 셈이죠.
위 그림에서 중력은 `mg`로 표현되어 있습니다. m은 추의 질량을 나타내며, g는 중력가속도를 의미합니다. 빗면에 놓인 물체에 작용하는
중력을 두 가지 벡터로 분해 할 수 있듯이, 위 그림의 상황에서 역시 마찬가지로 **중력을 두 가지 성분(Component)으로 분해**할 수 있습니다.
`한 성분(mg sinθ)`은 추를 잡고있는 줄의 방향과 수직이며, `다른 성분(mg cosθ)`은 줄의 방향과 수평입니다. 즉, 중력이라는 벡터를 두 가지
힘(벡터)으로 분해 한 것입니다. 두 힘의 벡터 합은 중력의 벡터 값과 같습니다.

앞서 말한 성분 중 전자를 수직 성분, 후자를 수평 성분이라 칭하겠습니다. <br />
먼저 수평 성분을 살펴봅시다. 이 힘은 줄과 수평으로 작용하여 추를 오른쪽 아래 방향으로 미는 역할을 합니다. 그러나 줄이 추를 잡고 있기 때문에
반대 방향으로 같은 크기의 힘이 발생하는 데, 이것이 **중력에 의해서 발생하는 장력(Tension)**입니다. 장력과 수평 성분은 초기에 같은 크기(mg cosθ)
를 가지고 있기 때문에 **힘이 상쇄**되어 아무런 결과를 발생시키지 않습니다. (_허나 줄의 전체 장력은 진자가 속도를 얻는 순간부터_
_구심력이 생겨 증가하게 됩니다._)

이번엔 수직 성분입니다. 우리가 관심을 가져야 할 힘이 바로 이것입니다. 진자를 움직이게 하는 진정한 힘이죠. **뉴턴의 제 2 법칙(F = ma)**을 통해
이 수직 성분의 힘을 표현해 보면 다음과 같습니다.

<div>F = mg * sin(θ)</div>

다시 전으로 돌아가서, 우리가 밝혀내야 하는 것은 각의 크기라는 것을 상기해보죠. 각의 크기는 변수이기에 시시각각변하기 마련입니다.
**무언가 변한다는 것은 그 자체로 속도가 존재한다는 것을 의미합니다.** 속도가 존재하지 않으면 어떤 물체든 정지 상태에 머물러 있을
것입니다. 우리는 각에 대해 논의를 하고 있기 때문에 이 속도를 **각속도(Angular Velocity)**라고 칭할 수 있겠습니다.
그렇다면 한 단계 더 파고들어서 각속도를 미분하면 **각가속도(Angular Acceleration)**를 구할 수 있습니다.
이것이 의미하는 것은 반대로, 각가속도를 구하면 각속도를 구할 수 있고 각속도를 구하면 일정 시점의 각의 크기를 구할 수 있다는 것입니다.

그렇다면 우리는 궁극적으로 일정 시점의 각의 크기를 구하기 위해 각가속도를 구해야하는 것입니다. 각가속도를 어디에서 찾을 수 있을까요?
우리는 무엇이 진자를 움직이게 하는지, 각의 크기를 변하게 하는지 이미 알고 있습니다. 중력의 수직 성분이죠.
중력의 수직 성분의 힘의 크기가 `F = mg * sin(θ)`라는 것 또한 알고 있습니다.
힘의 공식(F = ma)은 가속도와 힘의 관계를 내포하고 있기 때문에 우리는 이 식에서 가속도를 추출해 낼 수 있습니다.
그리고 그 추출해낸 가속도가 바로 우리가 그토록 찾아 헤매던 각가속도입니다.

<div>
  중력 수직 성분의 힘(F) = mg * sin(θ) <br />
  <strong>각가속도</strong> = F / m = (mg * sin(θ)) / m = <strong>g * sin(θ)</strong>
</div>

### 4. 코딩 전 마무리 정리

우리는 다음 글에서 자바스크립트의 Canvas API를 이용해 진자가 진동하는 움직임을 그려 볼 것입니다.
그 전에 생각을 정리하는 시간을 가져봅시다.

**(1) 우리의 목표는 프레임마다 추의 중심점이 위치하는 x좌표와 y좌표를 찾는 것입니다.**

**(2) 그 위치를 찾기 위한 공식을 구합니다.**

<div>
  x = Length * sin(θ) + Pivot의 x좌표 <br />
  y = Length * cos(θ) + Pivot의 y좌표 <br />
</div>

**(3) 변수인 각의 크기를 얻기 위해 각가속도를 찾아야 합니다.**

**(4) 중력 수직 성분의 힘이 진자에 가하는 알짜힘(Net Force)이 됨으로 그 힘을 통해 각가속도를 구할 수 있습니다.**

<div>
  중력 수직 성분의 힘(F) = mg * sin(θ) <br />
  <strong>각가속도</strong> = F / m = (mg * sin(θ)) / m = <strong>g * sin(θ)</strong>
</div>

<div display="info">
  재밌는 사실을 하나 발견할 수 있습니다. <br />위 공식에서 알 수 있다싶이 추의 질량은 각이 변하는
  속도에 어떠한 영향도 주지 않습니다. 즉, 무거운 추이든 가벼운 추이든 추가 운동하는 속도에는 변함이
  없습니다. 그렇기 때문에 단진자의
  <strong> *주기</strong> 역시 추의 질량에 의존하지 않음을 알 수 있습니다.😃 <br />
  <br />
  <strong>*주기: 진자의 왕복 운동이 한번 이루어지는데 걸리는 시간</strong>
</div>

**다음 글 링크:** <Link to="/simple-pendulum-implementation">Canvas API로 만들어보는 단진자 운동(2)</Link>
